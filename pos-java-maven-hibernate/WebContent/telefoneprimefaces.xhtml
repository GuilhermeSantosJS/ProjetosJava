<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
     xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">


<h:head>

</h:head>


<h:body>

<h:form>
<p:breadCrumb>
<p:menuitem/>
<p:menuitem value="Página JSF" action="index.jsf"/>
<p:menuitem value="Página PrimeFaces" action="primefaces.jsf"/>

</p:breadCrumb>

</h:form>

	<h:form id="formulario">
<p:messages showDetail="true" showSummary="false" id="msg"/>


  <p:panelGrid columns="2">
  
  
  <p:outputLabel>Usuário:</p:outputLabel>
  <p:outputLabel value="#{telefoneManagedBean.user.nome}"/>
  
  
  
  <p:outputLabel>Numero:</p:outputLabel>
  <p:inputMask value="#{telefoneManagedBean.telefone.numero}" required="true" requiredMessage="Informe o numero de telefone" mask="(99) 9 9999-9999"/>
  
  
  <p:outputLabel>Tipo:</p:outputLabel>
  <p:selectOneMenu value="#{telefoneManagedBean.telefone.tipo}"  style="width:190" required="true" requiredMessage="Informe o tipo">
  <f:selectItem itemValue="RECADO" itemLabel="Recado"/>
  <f:selectItem itemValue="TRABALHO" itemLabel="Trabalho"/>
  <f:selectItem itemValue="CASA" itemLabel="Casa"/>
  
  </p:selectOneMenu>
  
  
  
  </p:panelGrid>
<br />
<br />

<p:commandButton value="Salvar" action="#{telefoneManagedBean.salvar}" ajax="false"></p:commandButton>

<br/>
<br/>

	</h:form>
	
	<h:form id="formTelefones">
	  <p:dataTable value="#{telefoneManagedBean.user.telefoneUsers}" var="fone"  id="tableFone">
	  
	  
	  <p:column style="width:150px;">
	  <center>
	  <f:facet name="header">ID</f:facet>
	  <h:outputText value="#{fone.id}"/>
	  </center>
	  </p:column>
	  
	  
	  <p:column >
	  <center>
	  <f:facet name="header">Numero</f:facet>
	  <h:outputText value="#{fone.numero}"/>
	  </center>
	  </p:column>
	  
	  
	  
	  <p:column width="200" >
	  <center>
	  <f:facet name="header">Tipo</f:facet>
	  <h:outputText value="#{fone.tipo}"/>
	  </center>
	  </p:column>
	  
	   <p:column width="50">
       <f:facet name="header">Excluir</f:facet>
       <center>
  <h:commandLink action="#{telefoneManagedBean.removeTelefone}" immediate="true" id="botaoremover">
   <h:graphicImage url="/resources/img/excluir.png" width="40" height="40" title="Excluir" />
  <f:setPropertyActionListener value="#{fone}" target="#{telefoneManagedBean.telefone}"/>
  <f:ajax execute="botaoremover" render="@form :formulario:msg"/>
  
  </h:commandLink>
    </center>
    </p:column>
	  
	  
	  
	  </p:dataTable>
	
	</h:form>
	
</h:body>

</html>